(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),l=n(5),s=n(8),u=n(1),i=function(e,t){switch(t.type){case"GET_TRANSACTIONS":return Object(u.a)({},e,{transactions:t.payload});case"ADD_TRANSACTION":return Object(u.a)({},e,{transactions:[t.payload].concat(Object(s.a)(e.transactions))});case"DELETE_TRANSACTION":return Object(u.a)({},e,{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});default:return e}},m={transactions:[]},d=Object(a.createContext)(m),b=function(e){var t=e.children,n=Object(a.useReducer)(i,m),r=Object(l.a)(n,2),o=r[0],s=r[1];return Object(a.useEffect)((function(){fetch("/api/v1/transactions").then((function(e){return e.json()})).then((function(e){return s({type:"GET_TRANSACTIONS",payload:e.data})}))}),[]),c.a.createElement(d.Provider,{value:{transactions:o.transactions,addTransaction:function(e){fetch("api/v1/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success&&s({type:"ADD_TRANSACTION",payload:e.data})})).catch((function(e){return console.error("Error:",e)}))},deleteTransaction:function(e){fetch("api/v1/transactions/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){t.success&&s({type:"DELETE_TRANSACTION",payload:e})}))}}},t)},f=function(e){var t=e.titleText;return c.a.createElement("button",{type:"button",class:"btn btn-outline-warning text-center btn-lg btn-block mb-5 disabled"},t)},E=function(e){var t=e.transaction,n=Object(a.useContext)(d).deleteTransaction;return c.a.createElement("tr",{id:t._id,className:t.amount<0?"text-danger":"text-success"},c.a.createElement("td",null,t.description),c.a.createElement("td",{className:"text-center"},t.amount),c.a.createElement("td",{className:"btn-sm btn-outline-warning text-center",onClick:function(){return n(t._id)}},"X"))},p=function(){var e=Object(a.useContext)(d).transactions;return c.a.createElement("table",{className:"table table-hover"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Description"),c.a.createElement("th",{className:"text-center"},"Amount"),c.a.createElement("th",null))),c.a.createElement("tbody",null,e.map((function(e){return c.a.createElement(E,{key:e._id,transaction:e})}))))},N=function(){var e=Object(a.useContext)(d).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return c.a.createElement("h4",{className:"mb-5"},"Current balance: ",e," kn")},h=function(){var e=Object(a.useContext)(d).transactions,t=e.map((function(e){return e.amount})).filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),n=e.map((function(e){return e.amount})).filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0).toFixed(2);return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"card text-white bg-success mb-3",style:{maxWidth:"20rem"}},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"},"Incomes"),c.a.createElement("p",{className:"card-text"},t)))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"card text-white bg-danger mb-3",style:{maxWidth:"20rem"}},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"},"Expenses"),c.a.createElement("p",{className:"card-text"},n)))))},v=n(4),T=function(){var e=Object(a.useContext)(d).addTransaction,t=Object(a.useState)({description:"",amount:""}),n=Object(l.a)(t,2),r=n[0],o=n[1],s=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(u.a)({},e,Object(v.a)({},n,a))}))};return c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(r)}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-form-label col-form-label-sm"},"Transaction description"),c.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"description",value:r.desc,onChange:s})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-form-label col-form-label-sm"},"Transaction amount"),c.a.createElement("input",{className:"form-control form-control-sm",type:"number",name:"amount",value:r.amonut,onChange:s})),c.a.createElement("button",{type:"submit",className:"btn btn-outline-warning btn-block mb-5"},"Add"))};var x=function(){return c.a.createElement(b,null,c.a.createElement(f,{titleText:"Budget tracker"}),c.a.createElement(N,null),c.a.createElement(h,null),c.a.createElement(p,null),c.a.createElement(T,null))};o.a.render(c.a.createElement(x,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.c3f72776.chunk.js.map